<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UNOKU</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="main.js" defer></script>
    <style>
      .card-stack img {
        margin: 0 5px; /* Memberi jarak 5px di kiri dan kanan setiap kartu */
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6); /* Bayangan lebih kuat */
        border: 2px solid rgba(255, 255, 255, 0.9); /* Border sedikit lebih lembut */
        border-radius: 8px;
        transition: all 0.2s ease-in-out;
      }
      .player-card:hover {
        transform: translateY(-20px) scale(1.05);
        z-index: 10;
      }
      .playable-card {
        border-color: #4ade80; /* Border hijau terang */
        animation: pulse-green 2s infinite; /* Terapkan animasi denyut */
      }
      @keyframes pulse-green {
        0% {
          box-shadow: 0 0 15px 3px rgba(74, 222, 128, 0.6);
        }
        50% {
          box-shadow: 0 0 25px 8px rgba(74, 222, 128, 0.9);
        }
        100% {
          box-shadow: 0 0 15px 3px rgba(74, 222, 128, 0.6);
        }
      }
      .card-deal-animation {
        opacity: 0;
        transform: translateY(50px);
        transition: all 0.4s ease-out;
      }
      #turn-indicator {
        transition: opacity 0.3s ease-in-out;
      }
      .turn-indicator-animation {
        animation: fadeInOut 2.5s ease-in-out forwards;
      }
      @keyframes fadeInOut {
        0% {
          opacity: 0;
          transform: translateY(-50%) scale(0.8);
        }
        20% {
          opacity: 1;
          transform: translateY(-50%) scale(1);
        }
        80% {
          opacity: 1;
          transform: translateY(-50%) scale(1);
        }
        100% {
          opacity: 0;
          transform: translateY(-50%) scale(1.2);
        }
      }
      body.custom-bg {
        background-image: url("asset/background.png");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
      }
      @keyframes popup-anim {
        0% {
          transform: scale(0.5);
          opacity: 0;
        }
        70% {
          transform: scale(1.1);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      .animate-popup {
        animation: popup-anim 0.5s ease-out forwards;
      }
    </style>
  </head>
  <!-- Menambahkan kelas 'custom-bg' untuk menerapkan latar belakang gambar -->
  <body class="custom-bg text-white font-sans">
    <!-- Popup Logo UNO -->
    <div
      id="uno-logo-popup"
      class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-[100]"
    >
      <img src="asset/uno!.png" alt="UNO Logo" class="w-1/2 max-w-md" />
    </div>

    <!-- Elemen Notifikasi Popup (digunakan untuk semua notifikasi) -->
    <div
      id="notification-popup"
      class="hidden fixed top-1/2 left-6 -translate-y-1/2 bg-gray-900 border-4 p-6 rounded-2xl shadow-2xl z-50 pointer-events-none"
    >
      <h2 id="notification-text" class="text-3xl font-bold text-center"></h2>
    </div>

    <div class="flex h-screen">
      <main class="flex-grow p-6 flex flex-col justify-between bg-black/60">
        <h1 class="text-center text-3xl font-bold opacity-80">UNO</h1>

        <div>
          <h2 id="cpu-hand-title" class="text-lg font-semibold mb-2">
            Bot (7 kartu)
          </h2>
          <div
            id="cpu-hand"
            class="card-stack flex justify-center min-h-[110px]"
          ></div>
        </div>

        <div class="flex justify-center items-center space-x-6 my-6">
          <div>
            <h2 class="text-base font-semibold mb-2 text-center">
              Kartu Teratas
            </h2>
            <div
              id="discard-pile"
              class="w-28 h-40 bg-black/30 rounded-lg shadow-inner flex items-center justify-center"
            ></div>
            <p
              id="active-color-text"
              class="text-center mt-2 font-bold text-yellow-300"
            ></p>
          </div>
          <img
            id="draw-pile"
            src="asset/back.png"
            alt="Tumpukan Ambil"
            class="w-28 h-40 cursor-pointer transform hover:scale-105 transition-transform mt-8"
          />
        </div>

        <div>
          <h2 id="player-hand-title" class="text-lg font-semibold mb-2">
            Kartu Anda (7 kartu)
          </h2>
          <div
            id="player-hand"
            class="card-stack flex justify-center min-h-[120px]"
          ></div>
        </div>
      </main>

      <!-- Wrapper untuk Panel Kontrol Samping -->
      <div class="w-80 flex items-center p-6">
        <aside
          class="w-full bg-gray-800/90 p-6 border-2 border-gray-700/80 rounded-2xl shadow-2xl backdrop-blur-sm"
        >
          <div>
            <h2 class="text-2xl font-bold mb-6 text-center">
              Kontrol Permainan
            </h2>
            <div
              class="bg-gray-700 p-4 rounded-lg shadow-inner text-center mb-4"
            >
              <label
                for="player-balance"
                class="block text-sm font-medium text-gray-400"
                >Saldo Anda:</label
              >
              <p id="player-balance" class="text-2xl font-bold text-green-400">
                $5000
              </p>
            </div>
            <div class="bg-gray-700 p-4 rounded-lg shadow-inner mb-6">
              <label
                for="bet-amount"
                class="block text-sm font-medium text-gray-400"
                >Jumlah Taruhan:</label
              >
              <input
                type="number"
                id="bet-amount"
                value="100"
                class="w-full bg-gray-900 text-white p-2 rounded mt-1 border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none text-lg"
              />
            </div>
          </div>

          <div class="flex flex-col gap-4 mt-8">
            <button
              id="start-round-button"
              class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors text-lg shadow-lg"
            >
              Mulai Ronde
            </button>
            <button
              id="uno-button"
              class="bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-3 px-8 rounded-lg transition-colors text-lg shadow-lg hidden"
            >
              UNO!
            </button>
            <button
              id="challenge-uno-button"
              class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-colors text-lg shadow-lg hidden"
            >
              Panggil UNO!
            </button>
          </div>
        </aside>
      </div>
    </div>
  </body>
</html>
